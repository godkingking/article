import{R as r,r as yt,j as b,c as ft,B as ge}from"./index-Cfmv2_6b.js";import{T as ve,a as ye,D as be,R as xe,C as Se,P as Te,O as De,u as Re,d as Ee,e as Oe,f as Ce,g as $e,h as Ae,i as Me}from"./index-2_VpRaJt.js";import{L as Ne}from"./loader-circle-BuL4oDgy.js";import{c as Pe}from"./createLucideIcon-CfGVfKYJ.js";const Ie=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],je=Pe("inbox",Ie);function _e(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",n.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}const Yt=r.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),mt=()=>{const t=r.useContext(Yt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};_e(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function He(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function ke(){return Mt(/^Mac/)}function Le(){return Mt(/^iPhone/)}function Ft(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Be(){return Mt(/^iPad/)||ke()&&navigator.maxTouchPoints>1}function qt(){return Le()||Be()}function Mt(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Ue=24,Fe=typeof window<"u"?yt.useLayoutEffect:yt.useEffect;function zt(...t){return(...n)=>{for(let e of t)typeof e=="function"&&e(...n)}}const Rt=typeof document<"u"&&window.visualViewport;function Wt(t){let n=window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function Xt(t){for(Wt(t)&&(t=t.parentElement);t&&!Wt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const ze=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let gt=0,Et;function We(t={}){let{isDisabled:n}=t;Fe(()=>{if(!n)return gt++,gt===1&&qt()&&(Et=Ve()),()=>{gt--,gt===0&&Et?.()}},[n])}function Ve(){let t,n=0,e=f=>{t=Xt(f.target),!(t===document.documentElement&&t===document.body)&&(n=f.changedTouches[0].pageY)},a=f=>{if(!t||t===document.documentElement||t===document.body){f.preventDefault();return}let m=f.changedTouches[0].pageY,B=t.scrollTop,k=t.scrollHeight-t.clientHeight;k!==0&&((B<=0&&m>n||B>=k&&m<n)&&f.preventDefault(),n=m)},i=f=>{let m=f.target;$t(m)&&m!==document.activeElement&&(f.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},o=f=>{let m=f.target;$t(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",Rt&&(Rt.height<window.innerHeight?requestAnimationFrame(()=>{Vt(m)}):Rt.addEventListener("resize",()=>Vt(m),{once:!0}))}))},g=()=>{window.scrollTo(0,0)},p=window.pageXOffset,T=window.pageYOffset,R=zt(Ye(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let h=zt(ct(document,"touchstart",e,{passive:!1,capture:!0}),ct(document,"touchmove",a,{passive:!1,capture:!0}),ct(document,"touchend",i,{passive:!1,capture:!0}),ct(document,"focus",o,!0),ct(window,"scroll",g));return()=>{R(),h(),window.scrollTo(p,T)}}function Ye(t,n,e){let a=t.style[n];return t.style[n]=e,()=>{t.style[n]=a}}function ct(t,n,e,a){return t.addEventListener(n,e,a),()=>{t.removeEventListener(n,e,a)}}function Vt(t){let n=document.scrollingElement||document.documentElement;for(;t&&t!==n;){let e=Xt(t);if(e!==document.documentElement&&e!==document.body&&e!==t){let a=e.getBoundingClientRect().top,i=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom;const g=e.getBoundingClientRect().bottom+Ue;o>g&&(e.scrollTop+=i-a)}t=e.parentElement}}function $t(t){return t instanceof HTMLInputElement&&!ze.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function qe(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function Xe(...t){return n=>t.forEach(e=>qe(e,n))}function Kt(...t){return yt.useCallback(Xe(...t),t)}const Gt=new WeakMap;function A(t,n,e=!1){if(!t||!(t instanceof HTMLElement))return;let a={};Object.entries(n).forEach(([i,o])=>{if(i.startsWith("--")){t.style.setProperty(i,o);return}a[i]=t.style[i],t.style[i]=o}),!e&&Gt.set(t,a)}function Ke(t,n){if(!t||!(t instanceof HTMLElement))return;let e=Gt.get(t);e&&(t.style[n]=e[n])}const $=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function vt(t,n){if(!t)return null;const e=window.getComputedStyle(t),a=e.transform||e.webkitTransform||e.mozTransform;let i=a.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[$(n)?13:12]):(i=a.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[$(n)?5:4]):null)}function Ge(t){return 8*(Math.log(t+1)-2)}function Ot(t,n){if(!t)return()=>{};const e=t.style.cssText;return Object.assign(t.style,n),()=>{t.style.cssText=e}}function Je(...t){return(...n)=>{for(const e of t)typeof e=="function"&&e(...n)}}const O={DURATION:.5,EASE:[.32,.72,0,1]},Jt=.4,Qe=.25,Ze=100,Qt=8,tt=16,At=26,Ct="vaul-dragging";function Zt(t){const n=r.useRef(t);return r.useEffect(()=>{n.current=t}),r.useMemo(()=>(...e)=>n.current==null?void 0:n.current.call(n,...e),[])}function tn({defaultProp:t,onChange:n}){const e=r.useState(t),[a]=e,i=r.useRef(a),o=Zt(n);return r.useEffect(()=>{i.current!==a&&(o(a),i.current=a)},[a,i,o]),e}function te({prop:t,defaultProp:n,onChange:e=()=>{}}){const[a,i]=tn({defaultProp:n,onChange:e}),o=t!==void 0,g=o?t:a,p=Zt(e),T=r.useCallback(R=>{if(o){const f=typeof R=="function"?R(t):R;f!==t&&p(f)}else i(R)},[o,t,i,p]);return[g,T]}function en({activeSnapPointProp:t,setActiveSnapPointProp:n,snapPoints:e,drawerRef:a,overlayRef:i,fadeFromIndex:o,onSnapPointChange:g,direction:p="bottom",container:T,snapToSequentialPoint:R}){const[h,f]=te({prop:t,defaultProp:e?.[0],onChange:n}),[m,B]=r.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);r.useEffect(()=>{function u(){B({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const k=r.useMemo(()=>h===e?.[e.length-1]||null,[e,h]),E=r.useMemo(()=>{var u;return(u=e?.findIndex(x=>x===h))!=null?u:null},[e,h]),U=e&&e.length>0&&(o||o===0)&&!Number.isNaN(o)&&e[o]===h||!e,w=r.useMemo(()=>{const u=T?{width:T.getBoundingClientRect().width,height:T.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var x;return(x=e?.map(y=>{const j=typeof y=="string";let P=0;if(j&&(P=parseInt(y,10)),$(p)){const l=j?P:m?y*u.height:0;return m?p==="bottom"?u.height-l:-u.height+l:l}const z=j?P:m?y*u.width:0;return m?p==="right"?u.width-z:-u.width+z:z}))!=null?x:[]},[e,m,T]),N=r.useMemo(()=>E!==null?w?.[E]:null,[w,E]),M=r.useCallback(u=>{var x;const y=(x=w?.findIndex(j=>j===u))!=null?x:null;g(y),A(a.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:$(p)?`translate3d(0, ${u}px, 0)`:`translate3d(${u}px, 0, 0)`}),w&&y!==w.length-1&&o!==void 0&&y!==o&&y<o?A(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"0"}):A(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),f(e?.[Math.max(y,0)])},[a.current,e,w,o,i,f]);r.useEffect(()=>{if(h||t){var u;const x=(u=e?.findIndex(y=>y===t||y===h))!=null?u:-1;w&&x!==-1&&typeof w[x]=="number"&&M(w[x])}},[h,t,e,w,M]);function c({draggedDistance:u,closeDrawer:x,velocity:y,dismissible:j}){if(o===void 0)return;const P=p==="bottom"||p==="right"?(N??0)-u:(N??0)+u,z=E===o-1,l=E===0,F=u>0;if(z&&A(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),!R&&y>2&&!F){j?x():M(w[0]);return}if(!R&&y>2&&F&&w&&e){M(w[e.length-1]);return}const _=w?.reduce((I,X)=>typeof I!="number"||typeof X!="number"?I:Math.abs(X-P)<Math.abs(I-P)?X:I),W=$(p)?window.innerHeight:window.innerWidth;if(y>Jt&&Math.abs(u)<W*.4){const I=F?1:-1;if(I>0&&k&&e){M(w[e.length-1]);return}if(l&&I<0&&j&&x(),E===null)return;M(w[E+I]);return}M(_)}function Y({draggedDistance:u}){if(N===null)return;const x=p==="bottom"||p==="right"?N-u:N+u;(p==="bottom"||p==="right")&&x<w[w.length-1]||(p==="top"||p==="left")&&x>w[w.length-1]||A(a.current,{transform:$(p)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`})}function Q(u,x){if(!e||typeof E!="number"||!w||o===void 0)return null;const y=E===o-1;if(E>=o&&x)return 0;if(y&&!x)return 1;if(!U&&!y)return null;const P=y?E+1:E-1,z=y?w[P]-w[P-1]:w[P+1]-w[P],l=u/Math.abs(z);return y?1-l:l}return{isLastSnapPoint:k,activeSnapPoint:h,shouldFade:U,getPercentageDragged:Q,setActiveSnapPoint:f,activeSnapPointIndex:E,onRelease:c,onDrag:Y,snapPointsOffset:w}}const nn=()=>()=>{};function rn(){const{direction:t,isOpen:n,shouldScaleBackground:e,setBackgroundColorOnScale:a,noBodyStyles:i}=mt(),o=r.useRef(null),g=yt.useMemo(()=>document.body.style.backgroundColor,[]);function p(){return(window.innerWidth-At)/window.innerWidth}r.useEffect(()=>{if(n&&e){o.current&&clearTimeout(o.current);const T=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!T)return;Je(a&&!i?Ot(document.body,{background:"black"}):nn,Ot(T,{transformOrigin:$(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`}));const R=Ot(T,{borderRadius:`${Qt}px`,overflow:"hidden",...$(t)?{transform:`scale(${p()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${p()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{R(),o.current=window.setTimeout(()=>{g?document.body.style.background=g:document.body.style.removeProperty("background")},O.DURATION*1e3)}}},[n,e,g])}let dt=null;function an({isOpen:t,modal:n,nested:e,hasBeenOpened:a,preventScrollRestoration:i,noBodyStyles:o}){const[g,p]=r.useState(()=>typeof window<"u"?window.location.href:""),T=r.useRef(0),R=r.useCallback(()=>{if(Ft()&&dt===null&&t&&!o){dt={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-T.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const B=m-window.innerHeight;B&&T.current>=m&&(document.body.style.top=`${-(T.current+B)}px`)}),300)}},[t]),h=r.useCallback(()=>{if(Ft()&&dt!==null&&!o){const f=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,dt),window.requestAnimationFrame(()=>{if(i&&g!==window.location.href){p(window.location.href);return}window.scrollTo(m,f)}),dt=null}},[g]);return r.useEffect(()=>{function f(){T.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),r.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||h()}},[n,h]),r.useEffect(()=>{e||!a||(t?(!window.matchMedia("(display-mode: standalone)").matches&&R(),n||window.setTimeout(()=>{h()},500)):h())},[t,a,g,n,e,R,h]),{restorePositionSetting:h}}function on({open:t,onOpenChange:n,children:e,onDrag:a,onRelease:i,snapPoints:o,shouldScaleBackground:g=!1,setBackgroundColorOnScale:p=!0,closeThreshold:T=Qe,scrollLockTimeout:R=Ze,dismissible:h=!0,handleOnly:f=!1,fadeFromIndex:m=o&&o.length-1,activeSnapPoint:B,setActiveSnapPoint:k,fixed:E,modal:U=!0,onClose:w,nested:N,noBodyStyles:M=!1,direction:c="bottom",defaultOpen:Y=!1,disablePreventScroll:Q=!0,snapToSequentialPoint:u=!1,preventScrollRestoration:x=!1,repositionInputs:y=!0,onAnimationEnd:j,container:P,autoFocus:z=!1}){var l,F;const[_=!1,W]=te({defaultProp:Y,prop:t,onChange:s=>{n?.(s),!s&&!N&&ue(),setTimeout(()=>{j?.(s)},O.DURATION*1e3),s&&!U&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),s||(document.body.style.pointerEvents="auto")}}),[I,X]=r.useState(!1),[K,ot]=r.useState(!1),[re,Nt]=r.useState(!1),nt=r.useRef(null),wt=r.useRef(null),bt=r.useRef(null),xt=r.useRef(null),it=r.useRef(null),st=r.useRef(!1),St=r.useRef(null),Tt=r.useRef(0),rt=r.useRef(!1),Pt=r.useRef(!Y),It=r.useRef(0),d=r.useRef(null),jt=r.useRef(((l=d.current)==null?void 0:l.getBoundingClientRect().height)||0),_t=r.useRef(((F=d.current)==null?void 0:F.getBoundingClientRect().width)||0),Dt=r.useRef(0),ae=r.useCallback(s=>{o&&s===lt.length-1&&(wt.current=new Date)},[]),{activeSnapPoint:oe,activeSnapPointIndex:at,setActiveSnapPoint:Ht,onRelease:ie,snapPointsOffset:lt,onDrag:se,shouldFade:kt,getPercentageDragged:le}=en({snapPoints:o,activeSnapPointProp:B,setActiveSnapPointProp:k,drawerRef:d,fadeFromIndex:m,overlayRef:nt,onSnapPointChange:ae,direction:c,container:P,snapToSequentialPoint:u});We({isDisabled:!_||K||!U||re||!I||!y||!Q});const{restorePositionSetting:ue}=an({isOpen:_,modal:U,nested:N??!1,hasBeenOpened:I,preventScrollRestoration:x,noBodyStyles:M});function pt(){return(window.innerWidth-At)/window.innerWidth}function ce(s){var S,D;!h&&!o||d.current&&!d.current.contains(s.target)||(jt.current=((S=d.current)==null?void 0:S.getBoundingClientRect().height)||0,_t.current=((D=d.current)==null?void 0:D.getBoundingClientRect().width)||0,ot(!0),bt.current=new Date,qt()&&window.addEventListener("touchend",()=>st.current=!1,{once:!0}),s.target.setPointerCapture(s.pointerId),Tt.current=$(c)?s.pageY:s.pageX)}function Lt(s,S){var D;let v=s;const C=(D=window.getSelection())==null?void 0:D.toString(),L=d.current?vt(d.current,c):null,H=new Date;if(v.tagName==="SELECT"||v.hasAttribute("data-vaul-no-drag")||v.closest("[data-vaul-no-drag]"))return!1;if(c==="right"||c==="left")return!0;if(wt.current&&H.getTime()-wt.current.getTime()<500)return!1;if(L!==null&&(c==="bottom"?L>0:L<0))return!0;if(C&&C.length>0)return!1;if(it.current&&H.getTime()-it.current.getTime()<R&&L===0||S)return it.current=H,!1;for(;v;){if(v.scrollHeight>v.clientHeight){if(v.scrollTop!==0)return it.current=new Date,!1;if(v.getAttribute("role")==="dialog")return!0}v=v.parentNode}return!0}function de(s){if(d.current&&K){const S=c==="bottom"||c==="right"?1:-1,D=(Tt.current-($(c)?s.pageY:s.pageX))*S,v=D>0,C=o&&!h&&!v;if(C&&at===0)return;const L=Math.abs(D),H=document.querySelector("[data-vaul-drawer-wrapper]"),G=c==="bottom"||c==="top"?jt.current:_t.current;let V=L/G;const Z=le(L,v);if(Z!==null&&(V=Z),C&&V>=1||!st.current&&!Lt(s.target,v))return;if(d.current.classList.add(Ct),st.current=!0,A(d.current,{transition:"none"}),A(nt.current,{transition:"none"}),o&&se({draggedDistance:D}),v&&!o){const q=Ge(D),ht=Math.min(q*-1,0)*S;A(d.current,{transform:$(c)?`translate3d(0, ${ht}px, 0)`:`translate3d(${ht}px, 0, 0)`});return}const J=1-V;if((kt||m&&at===m-1)&&(a?.(s,V),A(nt.current,{opacity:`${J}`,transition:"none"},!0)),H&&nt.current&&g){const q=Math.min(pt()+V*(1-pt()),1),ht=8-V*8,Ut=Math.max(0,14-V*14);A(H,{borderRadius:`${ht}px`,transform:$(c)?`scale(${q}) translate3d(0, ${Ut}px, 0)`:`scale(${q}) translate3d(${Ut}px, 0, 0)`,transition:"none"},!0)}if(!o){const q=L*S;A(d.current,{transform:$(c)?`translate3d(0, ${q}px, 0)`:`translate3d(${q}px, 0, 0)`})}}}r.useEffect(()=>{window.requestAnimationFrame(()=>{Pt.current=!0})},[]),r.useEffect(()=>{var s;function S(){if(!d.current||!y)return;const D=document.activeElement;if($t(D)||rt.current){var v;const C=((v=window.visualViewport)==null?void 0:v.height)||0,L=window.innerHeight;let H=L-C;const G=d.current.getBoundingClientRect().height||0,V=G>L*.8;Dt.current||(Dt.current=G);const Z=d.current.getBoundingClientRect().top;if(Math.abs(It.current-H)>60&&(rt.current=!rt.current),o&&o.length>0&&lt&&at){const J=lt[at]||0;H+=J}if(It.current=H,G>C||rt.current){const J=d.current.getBoundingClientRect().height;let q=J;J>C&&(q=C-(V?Z:At)),E?d.current.style.height=`${J-Math.max(H,0)}px`:d.current.style.height=`${Math.max(q,C-Z)}px`}else He()||(d.current.style.height=`${Dt.current}px`);o&&o.length>0&&!rt.current?d.current.style.bottom="0px":d.current.style.bottom=`${Math.max(H,0)}px`}}return(s=window.visualViewport)==null||s.addEventListener("resize",S),()=>{var D;return(D=window.visualViewport)==null?void 0:D.removeEventListener("resize",S)}},[at,o,lt]);function ut(s){fe(),w?.(),s||W(!1),setTimeout(()=>{o&&Ht(o[0])},O.DURATION*1e3)}function Bt(){if(!d.current)return;const s=document.querySelector("[data-vaul-drawer-wrapper]"),S=vt(d.current,c);A(d.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),A(nt.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),g&&S&&S>0&&_&&A(s,{borderRadius:`${Qt}px`,overflow:"hidden",...$(c)?{transform:`scale(${pt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${pt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`},!0)}function fe(){!K||!d.current||(d.current.classList.remove(Ct),st.current=!1,ot(!1),xt.current=new Date)}function me(s){if(!K||!d.current)return;d.current.classList.remove(Ct),st.current=!1,ot(!1),xt.current=new Date;const S=vt(d.current,c);if(!s||!Lt(s.target,!1)||!S||Number.isNaN(S)||bt.current===null)return;const D=xt.current.getTime()-bt.current.getTime(),v=Tt.current-($(c)?s.pageY:s.pageX),C=Math.abs(v)/D;if(C>.05&&(Nt(!0),setTimeout(()=>{Nt(!1)},200)),o){ie({draggedDistance:v*(c==="bottom"||c==="right"?1:-1),closeDrawer:ut,velocity:C,dismissible:h}),i?.(s,!0);return}if(c==="bottom"||c==="right"?v>0:v<0){Bt(),i?.(s,!0);return}if(C>Jt){ut(),i?.(s,!1);return}var L;const H=Math.min((L=d.current.getBoundingClientRect().height)!=null?L:0,window.innerHeight);var G;const V=Math.min((G=d.current.getBoundingClientRect().width)!=null?G:0,window.innerWidth),Z=c==="left"||c==="right";if(Math.abs(S)>=(Z?V:H)*T){ut(),i?.(s,!1);return}i?.(s,!0),Bt()}r.useEffect(()=>(_&&(A(document.documentElement,{scrollBehavior:"auto"}),wt.current=new Date),()=>{Ke(document.documentElement,"scrollBehavior")}),[_]);function we(s){const S=s?(window.innerWidth-tt)/window.innerWidth:1,D=s?-tt:0;St.current&&window.clearTimeout(St.current),A(d.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:$(c)?`scale(${S}) translate3d(0, ${D}px, 0)`:`scale(${S}) translate3d(${D}px, 0, 0)`}),!s&&d.current&&(St.current=setTimeout(()=>{const v=vt(d.current,c);A(d.current,{transition:"none",transform:$(c)?`translate3d(0, ${v}px, 0)`:`translate3d(${v}px, 0, 0)`})},500))}function pe(s,S){if(S<0)return;const D=(window.innerWidth-tt)/window.innerWidth,v=D+S*(1-D),C=-tt+S*tt;A(d.current,{transform:$(c)?`scale(${v}) translate3d(0, ${C}px, 0)`:`scale(${v}) translate3d(${C}px, 0, 0)`,transition:"none"})}function he(s,S){const D=$(c)?window.innerHeight:window.innerWidth,v=S?(D-tt)/D:1,C=S?-tt:0;S&&A(d.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:$(c)?`scale(${v}) translate3d(0, ${C}px, 0)`:`scale(${v}) translate3d(${C}px, 0, 0)`})}return r.useEffect(()=>{U||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[U]),r.createElement(xe,{defaultOpen:Y,onOpenChange:s=>{!h&&!s||(s?X(!0):ut(!0),W(s))},open:_},r.createElement(Yt.Provider,{value:{activeSnapPoint:oe,snapPoints:o,setActiveSnapPoint:Ht,drawerRef:d,overlayRef:nt,onOpenChange:n,onPress:ce,onRelease:me,onDrag:de,dismissible:h,shouldAnimate:Pt,handleOnly:f,isOpen:_,isDragging:K,shouldFade:kt,closeDrawer:ut,onNestedDrag:pe,onNestedOpenChange:we,onNestedRelease:he,keyboardIsOpen:rt,modal:U,snapPointsOffset:lt,activeSnapPointIndex:at,direction:c,shouldScaleBackground:g,setBackgroundColorOnScale:p,noBodyStyles:M,container:P,autoFocus:z}},e))}const ee=r.forwardRef(function({...t},n){const{overlayRef:e,snapPoints:a,onRelease:i,shouldFade:o,isOpen:g,modal:p,shouldAnimate:T}=mt(),R=Kt(n,e),h=a&&a.length>0;if(!p)return null;const f=r.useCallback(m=>i(m),[i]);return r.createElement(De,{onMouseUp:f,ref:R,"data-vaul-overlay":"","data-vaul-snap-points":g&&h?"true":"false","data-vaul-snap-points-overlay":g&&o?"true":"false","data-vaul-animate":T?.current?"true":"false",...t})});ee.displayName="Drawer.Overlay";const ne=r.forwardRef(function({onPointerDownOutside:t,style:n,onOpenAutoFocus:e,...a},i){const{drawerRef:o,onPress:g,onRelease:p,onDrag:T,keyboardIsOpen:R,snapPointsOffset:h,activeSnapPointIndex:f,modal:m,isOpen:B,direction:k,snapPoints:E,container:U,handleOnly:w,shouldAnimate:N,autoFocus:M}=mt(),[c,Y]=r.useState(!1),Q=Kt(i,o),u=r.useRef(null),x=r.useRef(null),y=r.useRef(!1),j=E&&E.length>0;rn();const P=(l,F,_=0)=>{if(y.current)return!0;const W=Math.abs(l.y),I=Math.abs(l.x),X=I>W,K=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(l.x*K<0)&&I>=0&&I<=_)return X}else if(!(l.y*K<0)&&W>=0&&W<=_)return!X;return y.current=!0,!0};r.useEffect(()=>{j&&window.requestAnimationFrame(()=>{Y(!0)})},[]);function z(l){u.current=null,y.current=!1,p(l)}return r.createElement(Se,{"data-vaul-drawer-direction":k,"data-vaul-drawer":"","data-vaul-delayed-snap-points":c?"true":"false","data-vaul-snap-points":B&&j?"true":"false","data-vaul-custom-container":U?"true":"false","data-vaul-animate":N?.current?"true":"false",...a,ref:Q,style:h&&h.length>0?{"--snap-point-height":`${h[f??0]}px`,...n}:n,onPointerDown:l=>{w||(a.onPointerDown==null||a.onPointerDown.call(a,l),u.current={x:l.pageX,y:l.pageY},g(l))},onOpenAutoFocus:l=>{e?.(l),M||l.preventDefault()},onPointerDownOutside:l=>{if(t?.(l),!m||l.defaultPrevented){l.preventDefault();return}R.current&&(R.current=!1)},onFocusOutside:l=>{if(!m){l.preventDefault();return}},onPointerMove:l=>{if(x.current=l,w||(a.onPointerMove==null||a.onPointerMove.call(a,l),!u.current))return;const F=l.pageY-u.current.y,_=l.pageX-u.current.x,W=l.pointerType==="touch"?10:2;P({x:_,y:F},k,W)?T(l):(Math.abs(_)>W||Math.abs(F)>W)&&(u.current=null)},onPointerUp:l=>{a.onPointerUp==null||a.onPointerUp.call(a,l),u.current=null,y.current=!1,p(l)},onPointerOut:l=>{a.onPointerOut==null||a.onPointerOut.call(a,l),z(x.current)},onContextMenu:l=>{a.onContextMenu==null||a.onContextMenu.call(a,l),x.current&&z(x.current)}})});ne.displayName="Drawer.Content";const sn=250,ln=120,un=r.forwardRef(function({preventCycle:t=!1,children:n,...e},a){const{closeDrawer:i,isDragging:o,snapPoints:g,activeSnapPoint:p,setActiveSnapPoint:T,dismissible:R,handleOnly:h,isOpen:f,onPress:m,onDrag:B}=mt(),k=r.useRef(null),E=r.useRef(!1);function U(){if(E.current){M();return}window.setTimeout(()=>{w()},ln)}function w(){if(o||t||E.current){M();return}if(M(),!g||g.length===0){R||i();return}if(p===g[g.length-1]&&R){i();return}const Y=g.findIndex(u=>u===p);if(Y===-1)return;const Q=g[Y+1];T(Q)}function N(){k.current=window.setTimeout(()=>{E.current=!0},sn)}function M(){k.current&&window.clearTimeout(k.current),E.current=!1}return r.createElement("div",{onClick:U,onPointerCancel:M,onPointerDown:c=>{h&&m(c),N()},onPointerMove:c=>{h&&B(c)},ref:a,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...e},r.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});un.displayName="Drawer.Handle";function cn(t){const n=mt(),{container:e=n.container,...a}=t;return r.createElement(Te,{container:e,...a})}const et={Root:on,Content:ne,Overlay:ee,Trigger:ve,Portal:cn,Title:ye,Description:be};function dn({...t}){return b.jsx(et.Root,{"data-slot":"drawer",...t})}function fn({...t}){return b.jsx(et.Trigger,{"data-slot":"drawer-trigger",...t})}function mn({...t}){return b.jsx(et.Portal,{"data-slot":"drawer-portal",...t})}function wn({className:t,...n}){return b.jsx(et.Overlay,{"data-slot":"drawer-overlay",className:ft("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function pn({className:t,children:n,...e}){return b.jsxs(mn,{"data-slot":"drawer-portal",children:[b.jsx(wn,{}),b.jsxs(et.Content,{"data-slot":"drawer-content",className:ft("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...e,children:[b.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),n]})]})}function hn({className:t,...n}){return b.jsx("div",{"data-slot":"drawer-header",className:ft("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",t),...n})}function gn({className:t,...n}){return b.jsx(et.Title,{"data-slot":"drawer-title",className:ft("text-foreground font-semibold",t),...n})}function vn({className:t,...n}){return b.jsx(et.Description,{"data-slot":"drawer-description",className:ft("text-muted-foreground text-sm",t),...n})}function Tn({title:t,description:n,children:e,trigger:a,open:i,onOpenChange:o}){return Re()?b.jsxs(dn,{open:i,onOpenChange:o,children:[a&&b.jsx(fn,{asChild:!0,children:a}),b.jsxs(pn,{className:"px-4 py-4",children:[b.jsxs(hn,{className:"text-left",children:[b.jsx(gn,{children:t}),b.jsx(vn,{})]}),b.jsx("div",{className:"flex-1 overflow-y-auto",children:e})]})]},"drawer"):b.jsxs(Ee,{open:i,onOpenChange:o,children:[a&&b.jsx(Oe,{asChild:!0,children:a}),b.jsxs(Ce,{className:"w-auto max-w-none sm:max-w-none min-w-md",children:[b.jsxs($e,{children:[b.jsx(Ae,{children:t}),b.jsx(Me,{children:n})]}),e]})]},"dialog")}function Dn(){return b.jsxs("div",{className:"flex h-40 items-center justify-center text-muted-foreground",children:[b.jsx(Ne,{className:"h-5 w-5 animate-spin mr-2"}),"加载中..."]})}function Rn({title:t="暂无数据",description:n="当前条件下没有可显示的内容。",actionLabel:e,onAction:a}){return b.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[b.jsx(je,{className:"h-10 w-10 mb-4"}),b.jsx("h3",{className:"text-base font-medium text-foreground",children:t}),b.jsx("p",{className:"mt-1 text-sm",children:n}),e&&a&&b.jsx(ge,{variant:"outline",size:"sm",className:"mt-4",onClick:a,children:e})]})}export{Rn as E,Dn as L,Tn as R};
